(this.webpackJsonpzimfiles=this.webpackJsonpzimfiles||[]).push([[6],{643:function(e,t,n){"use strict";n.r(t),n.d(t,"ContentLoading",(function(){return i}));var a=n(61),r=n(0),o=n.n(r),c=n(701),i=(n(644),Object(r.memo)((function(e){return o.a.createElement(l,null,o.a.createElement(c.a.Button,{active:!0,className:"content",style:{height:120,width:"96%",margin:10}}),o.a.createElement(c.a.Button,{active:!0,className:"content",style:{height:120,width:"96%",margin:10}}),o.a.createElement(c.a.Button,{active:!0,className:"content",style:{height:120,width:"96%",margin:10}}),o.a.createElement(c.a.Button,{active:!0,className:"content",style:{height:120,width:"96%",margin:10}}))}))),l=a.c.div.withConfig({componentId:"sc-pzvse1-0"})(["width:100%;"])},644:function(e,t,n){},696:function(e,t,n){"use strict";n.r(t),n.d(t,"HomePage",(function(){return gt}));var a=n(0),r=n.n(a),o=n(156),c=n(242),i=n(624),l=n(61),d=n(708),s=n(178),u=n(246),p=n(229),f=n(106),m=n.n(f),g=n(80),b=n(181);function x(e){return b.a.get("list-directories?parent_id=".concat(e.parent_id))}function h(){return b.a.get("time-server")}function E(e){return b.a.post("create-director",e)}function v(e){return b.a.get("jobs-in-dir?dir_id=".concat(e.dir_id))}function j(){return b.a.get("editor/get-job")}function y(e){return b.a.post("editor/confirm-job",e)}function w(){return b.a.get("qc/list-jobs?status=3")}function O(e){return b.a.post("qc/check-confirm-job",e)}var C=m.a.mark(J),k=m.a.mark(Q),_=m.a.mark(q),F=m.a.mark(R),I=m.a.mark(N),S=m.a.mark(U),D=m.a.mark(z),P=m.a.mark(T);function J(e){var t,n;return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t={parent_id:e.payload},a.next=4,Object(g.a)(x,t);case 4:return n=a.sent,a.next=7,Object(g.b)(ie.getFolderSuccess(n));case 7:a.next=13;break;case 9:return a.prev=9,a.t0=a.catch(0),a.next=13,Object(g.b)(ie.getFolderError(a.t0.response.status));case 13:case"end":return a.stop()}}),C,null,[[0,9]])}function Q(e){var t,n,a,r,o,i,l,d,u,p;return m.a.wrap((function(f){for(;;)switch(f.prev=f.next){case 0:return f.prev=0,f.next=3,Object(g.c)((function(e){var t;return null===(t=e.homePage)||void 0===t?void 0:t.dataDirect}));case 3:if(t=f.sent,1!==e.payload.level){f.next=25;break}return f.next=7,Object(g.a)(h);case 7:if(n=f.sent,a=new Date(n),r="dir_"+("0"+a.getDate()).slice(-2)+("0"+(a.getMonth()+1)).slice(-2)+a.getUTCFullYear(),!t.directors.filter((function(e){return e.nas_dir===r})).length){f.next=16;break}return f.next=14,Object(g.b)(ie.createFloderError(1));case 14:f.next=23;break;case 16:return o={director:r,level:e.payload.level,parent_id:e.payload.parentID,path:e.payload.path,type:e.payload.type},f.next=19,Object(g.a)(E,o);case 19:return i=f.sent,l=Object(s.a)(Object(s.a)({},t),{},{directors:[i].concat(Object(c.a)(t.directors))}),f.next=23,Object(g.b)(ie.createFolderSucess(l));case 23:f.next=32;break;case 25:return d={director:e.payload.director,level:e.payload.level,parent_id:e.payload.parentID,path:e.payload.path,type:e.payload.type},f.next=28,Object(g.a)(E,d);case 28:return u=f.sent,p=Object(s.a)(Object(s.a)({},t),{},{directors:[u].concat(Object(c.a)(t.directors))}),f.next=32,Object(g.b)(ie.createFolderSucess(p));case 32:f.next=38;break;case 34:return f.prev=34,f.t0=f.catch(0),f.next=38,Object(g.b)(ie.createFloderError(f.t0.response.status));case 38:case"end":return f.stop()}}),k,null,[[0,34]])}function q(e){var t,n;return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t={dir_id:e.payload},a.next=4,Object(g.a)(v,t);case 4:return n=a.sent,a.next=7,Object(g.b)(ie.getImageSuccess(n));case 7:a.next=13;break;case 9:return a.prev=9,a.t0=a.catch(0),a.next=13,Object(g.b)(ie.getImageError(a.t0.response.status));case 13:case"end":return a.stop()}}),_,null,[[0,9]])}function R(){var e;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(g.a)(j);case 3:return e=t.sent,t.next=6,Object(g.b)(ie.getJobEditorSucess(e));case 6:t.next=12;break;case 8:return t.prev=8,t.t0=t.catch(0),t.next=12,Object(g.b)(ie.getJobEditorError(t.t0.response.status));case 12:case"end":return t.stop()}}),F,null,[[0,8]])}function N(e){var t;return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,t={dir_id:e.payload},n.next=4,Object(g.a)(y,t);case 4:return n.next=6,Object(g.b)(ie.sendJobEditorSucess());case 6:n.next=12;break;case 8:return n.prev=8,n.t0=n.catch(0),n.next=12,Object(g.b)(ie.sendJobEditorError(n.t0.response.status));case 12:case"end":return n.stop()}}),I,null,[[0,8]])}function U(){var e;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(g.a)(w);case 3:return e=t.sent,t.next=6,Object(g.b)(ie.getQCSucess(e));case 6:t.next=12;break;case 8:return t.prev=8,t.t0=t.catch(0),t.next=12,Object(g.b)(ie.getQCError(t.t0.response.status));case 12:case"end":return t.stop()}}),S,null,[[0,8]])}function z(e){var t,n,a;return m.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,t={dir_id:e.payload.id,status:e.payload.status,note:e.payload.note},r.next=4,Object(g.c)((function(e){var t;return null===(t=e.homePage)||void 0===t?void 0:t.dataQC}));case 4:return n=r.sent,r.next=7,Object(g.a)(O,t);case 7:return a=n.filter((function(t){return t.id!==e.payload.id})),r.next=10,Object(g.b)(ie.confirmJobQCSucess(a));case 10:console.log(a),r.next=17;break;case 13:return r.prev=13,r.t0=r.catch(0),r.next=17,Object(g.b)(ie.confirmJobQCError(r.t0.response.status));case 17:case"end":return r.stop()}}),D,null,[[0,13]])}function T(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(g.d)(ie.getFolderRequest,J);case 2:return e.next=4,Object(g.d)(ie.createFolderRequest,Q);case 4:return e.next=6,Object(g.d)(ie.getImageRequest,q);case 6:return e.next=8,Object(g.d)(ie.getJobEditorRequest,R);case 8:return e.next=10,Object(g.d)(ie.sendJobEditorRequest,N);case 10:return e.next=12,Object(g.d)(ie.getQCRequest,U);case 12:return e.next=14,Object(g.d)(ie.confirmJobQCRequest,z);case 14:case"end":return e.stop()}}),P)}var M,A,B,L,H,V,Y,G,K,W,X,Z,$,ee,te,ne,ae={id:0,user_id:0,nas_dir:"",vps_dir:"",created_at:"",updated_at:"",level:0,parent_id:0,path:[],type:1},re={id:0,user_id:0,nas_dir:"",vps_dir:"",created_at:"",updated_at:"",level:0,parent_id:0,path:"",type:1,editor_id:0,note:"",status:0},oe={loadingDirect:!1,dataDirect:{directors:[],parent_director:ae},dataImage:{jobs:[],parent_director:ae},errorDirect:0,idFolderSelected:0,loadingCreate:!1,dataCreate:ae,errorCreate:0,levelFolder:1,visibleModalCreate:!1,fileProgress:[],loadingEditor:!1,dataEditor:re,errorEditor:0,loadingQC:!1,loadingConfirmJob:!1,dataQC:[],errorQC:0},ce=Object(u.a)({name:"homePage",initialState:oe,reducers:{getFolderRequest:function(e,t){e.loadingDirect=!0,e.errorDirect=0},getFolderSuccess:function(e,t){e.loadingDirect=!1,e.dataDirect=t.payload,e.levelFolder=t.payload.parent_director?t.payload.parent_director.level+1:1},getFolderError:function(e,t){e.loadingDirect=!1,e.errorDirect=t.payload},selectFolder:function(e,t){e.idFolderSelected=t.payload},createFolderRequest:function(e,t){e.loadingCreate=!0,e.errorCreate=0},createFolderSucess:function(e,t){e.loadingCreate=!1,e.dataDirect=t.payload,e.visibleModalCreate=!1},createFloderError:function(e,t){e.loadingCreate=!1,e.errorCreate=t.payload},setVisibleModalCreate:function(e,t){e.visibleModalCreate=t.payload},getImageRequest:function(e,t){e.loadingDirect=!0,e.errorDirect=0},getImageSuccess:function(e,t){e.loadingDirect=!1,e.dataImage=t.payload,e.levelFolder=t.payload.parent_director?t.payload.parent_director.level+1:1},getImageError:function(e,t){e.loadingDirect=!1,e.errorDirect=t.payload},setUploadFile:function(e,t){var n=e.fileProgress.concat(t.payload);e.fileProgress=n},setUploadFileProgress:function(e,t){var n=e.fileProgress.map((function(e){return e.id===t.payload.id&&(e.progress=t.payload.progress),e}));e.fileProgress=n},UploadFileSuccess:function(e,t){var n=e.fileProgress.map((function(e){return e.id===t.payload.id&&(e.type="success"),e}));e.fileProgress=n;var a=[t.payload.data].concat(Object(c.a)(e.dataImage.jobs)),r=Object(s.a)(Object(s.a)({},e.dataImage),{},{jobs:a});e.dataImage=r},UploadFileDone:function(e,t){e.fileProgress=e.fileProgress.filter((function(e){return t.payload!==e.id}))},UploadFileError:function(e,t){var n=e.fileProgress.map((function(e){return e.id===t.payload&&(e.type="exception",e.id=0),e}));e.fileProgress=n},UpdateFile:function(e,t){e.fileProgress=t.payload},getJobEditorRequest:function(e,t){e.loadingEditor=!0,e.errorEditor=0},getJobEditorSucess:function(e,t){e.loadingEditor=!1,e.dataEditor=t.payload},getJobEditorError:function(e,t){e.loadingEditor=!1,e.errorEditor=t.payload},sendJobEditorRequest:function(e,t){e.loadingEditor=!0,e.errorEditor=0},sendJobEditorSucess:function(e,t){e.loadingEditor=!1,e.dataEditor=re},sendJobEditorError:function(e,t){e.loadingEditor=!1,e.errorEditor=t.payload},getQCRequest:function(e,t){e.loadingQC=!0,e.errorQC=0},getQCSucess:function(e,t){e.loadingQC=!1,e.dataQC=t.payload},getQCError:function(e,t){e.loadingQC=!1,e.errorQC=t.payload},confirmJobQCRequest:function(e,t){e.loadingConfirmJob=!0,e.errorQC=0},confirmJobQCSucess:function(e,t){e.loadingConfirmJob=!1,e.dataQC=t.payload},confirmJobQCError:function(e,t){e.loadingConfirmJob=!1,e.errorQC=t.payload}}}),ie=ce.actions,le=function(){return Object(p.a)({key:ce.name,reducer:ce.reducer}),Object(p.b)({key:ce.name,saga:T}),{actions:ce.actions}},de=n(46),se=n(59),ue=Object(se.a)([function(e){return e.homePage||oe}],(function(e){return e})),pe=n(32),fe=Object(a.memo)((function(e){var t=Object(de.c)(),n=Object(pe.g)(),a=le().actions,o=Object(de.d)(ue),c=o.idFolderSelected,i=o.levelFolder,l=e.name,s=e.id;return r.a.createElement(me,{onClick:function(){c!==s&&t(a.selectFolder(s))},onDoubleClick:function(){i>=2?n.push("/home/image/".concat(s)):n.push("/home/".concat(s))},isChoose:c===s},r.a.createElement(ge,null,r.a.createElement(d.a,{style:{fontSize:80}})),r.a.createElement(be,null,r.a.createElement(xe,null,l)))})),me=l.c.button.withConfig({componentId:"sc-1su1vqc-0"})(["display:flex;flex-direction:column;background-color:",";justify-content:center;align-items:center;height:120px;width:calc(calc(100% / 6) - 20px);margin:15px 10px;@media (max-width:1024px){width:calc(calc(100% / 4) - 20px);}@media (max-width:768px){width:calc(calc(100% / 3) - 20px);}@media (max-width:590px){width:calc(calc(100% / 2) - 20px);}border:1px solid #cccbd6;border-radius:4px;cursor:pointer;&:hover{border:1px solid #2490ff;}"],(function(e){return e.isChoose?" #e8f0fe":"#ffffff"})),ge=l.c.div.withConfig({componentId:"sc-1su1vqc-1"})(["display:flex;flex:7.5;justify-content:center;align-items:center;"]),be=l.c.div.withConfig({componentId:"sc-1su1vqc-2"})(["display:flex;flex:2.5;justify-content:center;align-items:center;padding:5px 5px;"]),xe=l.c.div.withConfig({componentId:"sc-1su1vqc-3"})(["align-self:center;font-size:14px;font-weight:500;position:relative;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:1;-webkit-box-orient:vertical;"]),he=n(65),Ee=n(704),ve=n(700),je=l.c.div(M||(M=Object(he.a)(["\n  height: 60px;\n  align-items: center;\n  display: flex;\n  padding: 0 25px;\n  position: fixed;\n  width: 100%;\n  top: 64px;\n  background-color: #f0f2f5;\n  z-index: 2;\n"]))),ye=Object(l.c)(Ee.a)(A||(A=Object(he.a)(["\n  font-size: medium;\n"]))),we=l.c.div(B||(B=Object(he.a)(["\n  flex: 1;\n  margin-left: 30px;\n"]))),Oe=l.c.div(L||(L=Object(he.a)(["\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  flex: 1;\n  background-color: #ffffff;\n  margin: 74px 20px 20px 20px;\n  padding: 20px 10px;\n  border-radius: 5px;\n  justify-content: space-between;\n  align-items: flex-start;\n"]))),Ce=l.c.div(H||(H=Object(he.a)(["\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  width: 100%;\n"]))),ke=l.c.div(V||(V=Object(he.a)(["\n  display: flex;\n  flex: 1;\n  justify-content: center;\n  align-self: center;\n"]))),_e=Object(l.c)(ve.a)(Y||(Y=Object(he.a)(["\n  width: 200px;\n  margin-top: 20px;\n"]))),Fe=l.c.div(G||(G=Object(he.a)(["\n  display: flex;\n  flex-direction: column;\n  background-color: #e8f0fe;\n  justify-content: center;\n  align-items: center;\n  height: 180px;\n  width: calc(calc(100% / 5) - 20px);\n  margin: 15px 10px;\n  @media (max-width: 1024px) {\n    width: calc(calc(100% / 3) - 20px);\n  }\n  @media (max-width: 768px) {\n    width: calc(calc(100% / 2) - 20px);\n  }\n  border: 1px solid #cccbd6;\n  border-radius: 4px;\n"]))),Ie=l.c.div(K||(K=Object(he.a)(["\n  display: flex;\n  flex: 7.5;\n  justify-content: center;\n  align-items: center;\n"]))),Se=l.c.div(W||(W=Object(he.a)(["\n  display: flex;\n  flex: 2.5;\n  justify-content: center;\n  align-items: center;\n  padding: 5px 10px;\n  width: 100%;\n"]))),De=l.c.div(X||(X=Object(he.a)(["\n  align-self: center;\n  text-align: center;\n  -webkit-box-sizing: border-box;\n  box-sizing: border-box;\n  -webkit-box-flex: 1 1 auto;\n  -webkit-flex: 1 1 auto;\n  flex: 1 1 auto;\n  font-weight: 500;\n  overflow: hidden;\n  padding-right: 12px;\n  position: relative;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  width: -webkit-calc(100% - 56px);\n  width: calc(100% - 56px);\n"]))),Pe=l.c.div(Z||(Z=Object(he.a)(["\n  margin: 20px;\n  padding: 20px 10px;\n  border-radius: 5px;\n  justify-content: center;\n  flex: 1;\n  display: flex;\n  background-color: #ffffff;\n"]))),Je=l.c.td($||($=Object(he.a)(["\n  border: 1px solid #c7b9b9;\n  border-collapse: collapse;\n  height: 60px;\n  text-align: center;\n"]))),Qe=l.c.th(ee||(ee=Object(he.a)(["\n  border: 1px solid #c7b9b9;\n  border-collapse: collapse;\n  background-color: #043069;\n  color: #ffffff;\n  height: 30px;\n"]))),qe=l.c.table(te||(te=Object(he.a)(["\n  border: 1px solid white;\n  border-collapse: collapse;\n"]))),Re=l.c.div(ne||(ne=Object(he.a)(["\n  display: flex;\n  flex: 1;\n  flex-direction: row;\n  flex-wrap: wrap;\n  justify-content: space-around;\n  align-items: center;\n"]))),Ne=n(122),Ue=n(160),ze=n(707),Te=n(90),Me=Object(Te.a)((function(){return n.e(8).then(n.bind(null,694))}),(function(e){return e.HeaderLoading})),Ae=Object(Te.a)((function(){return Promise.resolve().then(n.bind(null,643))}),(function(e){return e.ContentLoading})),Be=n(240),Le=n(702),He=n(697),Ve=ve.a.Option,Ye=function(e){var t=e.pathData,n=e.setFolderName,o=e.folderName,c=Object(de.d)(ue),l=c.dataDirect,d=c.levelFolder,s=c.loadingCreate,u=c.visibleModalCreate,p=Object(de.c)(),f=le().actions,m=Object(a.useState)(1),g=Object(i.a)(m,2),b=g[0],x=g[1],h=function(){s||p(f.setVisibleModalCreate(!1))},E=function(){if(l.directors.filter((function(e){return e.nas_dir===o})).length)Object(Be.a)("The name of folder is already taken. Please choose a different name.");else{var e={director:o,level:d,parentID:l.parent_director.id,path:t,type:b};p(f.createFolderRequest(e))}};return r.a.createElement(Le.a,{visible:u,centered:!0,title:"New Folder",onCancel:h,footer:[r.a.createElement(Ue.a,{key:"back",onClick:h},"Cancel"),r.a.createElement(Ue.a,{key:"submit",type:"primary",loading:s,disabled:!o||!b,onClick:E},"Create")]},r.a.createElement(He.a,{placeholder:"Name of folder",maxLength:35,value:o,onChange:function(e){return function(e){/[<>:"';{}/\\|?*\x00-\x1F]/.test(e.target.value)||n(e.target.value)}(e)},onPressEnter:E}),r.a.createElement(_e,{placeholder:"Select type of folder",onChange:function(e){x(e)}},r.a.createElement(Ve,{value:1},"Photo editing"),r.a.createElement(Ve,{value:2},"Day to dusk"),r.a.createElement(Ve,{value:3},"Virtual Staging"),r.a.createElement(Ve,{value:4},"Additional Retouching")))},Ge=n(699),Ke=n(243),We=Object(a.memo)((function(e){var t=Object(de.d)(ue).fileProgress,n=Object(de.c)(),a=le().actions;return t.length>0?r.a.createElement(Xe,null,r.a.createElement(Ze,null,"Uploading File",t.filter((function(e){return"exception"===e.type})).length&&0===t.filter((function(e){return"exception"!==e.type})).length?r.a.createElement(at,{onClick:function(){n(a.UpdateFile([]))}},r.a.createElement(Ke.a,null)):void 0),r.a.createElement(nt,null),t.map((function(e){return r.a.createElement($e,null,r.a.createElement(et,null,r.a.createElement(Ge.a,{percent:e.progress,strokeColor:{"0%":"#108ee9","100%":"#87d068"},status:e.type}),r.a.createElement(tt,null,e.fileName)))}))):r.a.createElement(r.a.Fragment,null)})),Xe=l.c.div.withConfig({componentId:"sc-1suj22m-0"})(["position:fixed;bottom:0;right:0;background-color:white;width:400px;overflow:auto;max-height:400px;margin-top:20px;"]),Ze=l.c.h4.withConfig({componentId:"sc-1suj22m-1"})(["background-color:rgb(13,75,130);padding:10px 0px;text-align:center;color:#fff;border-top-left-radius:8px;border-top-right-radius:8px;position:fixed;width:400px;z-index:3;"]),$e=l.c.div.withConfig({componentId:"sc-1suj22m-2"})(["padding:16px 0px;box-shadow:0px 1px 2px lightgrey;"]),et=l.c.div.withConfig({componentId:"sc-1suj22m-3"})(["display:flex;flex-direction:column;align-items:flex-start;padding:0px 10px;"]),tt=l.c.label.withConfig({componentId:"sc-1suj22m-4"})(["width:100%;overflow:hidden;text-overflow:ellipsis;text-align:left;"]),nt=l.c.div.withConfig({componentId:"sc-1suj22m-5"})(["width:100%;height:41px;"]),at=l.c.div.withConfig({componentId:"sc-1suj22m-6"})(["position:absolute;width:20px;height:20px;top:25%;right:0;margin-right:5px;"]),rt=n(709),ot=function(){var e=Object(de.d)(ue).dataImage;return r.a.createElement(Ce,null,e.jobs.map((function(e,t){return r.a.createElement(Fe,{key:t},r.a.createElement(Ie,null,r.a.createElement(rt.a,{style:{fontSize:100}})),r.a.createElement(Se,null,r.a.createElement(De,null,e.file_jobs)))})))};function ct(){var e=le().actions,t=Object(a.useState)(""),n=Object(i.a)(t,2),o=n[0],l=n[1],d=Object(pe.h)(),s=Object(de.c)(),u=Object(a.useRef)(null),p=Object(de.d)(ue),f=p.loadingDirect,m=p.dataDirect,g=p.dataImage,x=p.levelFolder,h=p.loadingCreate,E=p.errorCreate,v=p.errorDirect,j=p.fileProgress;Object(a.useEffect)((function(){Object.keys(d).length?d.folderId?s(e.getFolderRequest(Number(d.folderId))):d.ImageFolderId&&s(e.getImageRequest(Number(d.ImageFolderId))):s(e.getFolderRequest(0))}),[e,s,d]);var y=Object(a.useCallback)((function(){var t;switch(x){case 1:var n={director:"",level:x,parentID:0,path:[],type:1};s(e.createFolderRequest(n));break;case 2:s(e.setVisibleModalCreate(!0)),l("");break;case 3:null===(t=u.current)||void 0===t||t.click()}}),[e,s,x]);Object(a.useEffect)((function(){v&&Object(Be.a)("Somthing went wrong! Please try again!")}),[v]),Object(a.useEffect)((function(){1===E?Object(Be.a)("Today, you created the root directory! Try again tomorrow"):E&&Object(Be.a)("Somthing went wrong! Please try again!")}),[E]);var w=Object(a.useMemo)((function(){if(x>=3){if(g.parent_director){var e=g.parent_director.path;return e=e?[].concat(Object(c.a)(e),[{id:g.parent_director.id,name:g.parent_director.nas_dir}]):[{id:g.parent_director.id,name:g.parent_director.nas_dir}]}return[]}if(m.parent_director){var t=m.parent_director.path;return t=t?[].concat(Object(c.a)(t),[{id:m.parent_director.id,name:m.parent_director.nas_dir}]):[{id:m.parent_director.id,name:m.parent_director.nas_dir}]}return[]}),[m,g,x]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(je,null,f?r.a.createElement(Me,null):r.a.createElement(r.a.Fragment,null,r.a.createElement(Ue.a,{type:"primary",size:"large",shape:"round",onClick:y,loading:h,icon:r.a.createElement(ze.a,null)},"New"),r.a.createElement("input",{type:"file",accept:"image/*",multiple:!0,ref:u,style:{display:"none"},onChange:function(t){for(var n=[],a=0;a<t.target.files.length;a++){var r={id:j.length+a+1,fileName:t.target.files[a].name,progress:0,type:"active"};n.push(r)}s(e.setUploadFile(n));var o=0;n.forEach((function(n){var a=new FormData;a.append("file",t.target.files[o]),a.append("directory_id",g.parent_director.id.toString()),o++;var r={onUploadProgress:function(t){var a=t.loaded,r=t.total,o=Math.floor(100*a/r),c={id:n.id,progress:o};s(e.setUploadFileProgress(c))}};b.a.post("create-jobs",a,r).then((function(t){s(e.UploadFileSuccess({id:n.id,data:t})),setTimeout((function(){s(e.UploadFileDone(n.id))}),1e3)})).catch((function(t){s(e.UploadFileError(n.id))}))})),t.target.value=""}}),r.a.createElement(we,null,r.a.createElement(ye,null,r.a.createElement(Ee.a.Item,{href:"/home"},r.a.createElement("span",null,"Home")),(null===w||void 0===w?void 0:w.length)>0&&w.map((function(e,t){return r.a.createElement(Ee.a.Item,{key:e.id,href:t>=1?"/home/image/".concat(e.id):"/home/".concat(e.id)},r.a.createElement("span",null,e.name))})))))),r.a.createElement(Oe,null,f?r.a.createElement(Ae,null):m.directors.length&&x<3?r.a.createElement(Ce,null,m.directors.map((function(e,t){return r.a.createElement(fe,{key:t,name:e.nas_dir,id:e.id})}))):g.jobs.length&&x>=3?r.a.createElement(ot,null):r.a.createElement(ke,null,r.a.createElement(Ne.a,null))),r.a.createElement(Ye,{folderName:o,setFolderName:function(e){return l(e)},pathData:w}),r.a.createElement(We,null))}var it=n(143),lt=n(705),dt=n(692),st=function(){var e=Object(de.d)(ue),t=e.loadingEditor,n=e.dataEditor,o=e.errorEditor,c=le().actions,i=Object(de.c)();return Object(a.useEffect)((function(){o&&Object(Be.a)("Somthing went wrong! Please try again!")}),[o]),r.a.createElement(Pe,null,n.id?r.a.createElement("div",{style:{width:"80%"}},r.a.createElement(qe,{width:"100%"},r.a.createElement("tr",null,r.a.createElement(Qe,{style:{width:"25%"}},"Name"),r.a.createElement(Qe,{style:{width:"10%"}},"Status"),r.a.createElement(Qe,null,"Note"),r.a.createElement(Qe,{style:{width:"15%"}},"Action")),r.a.createElement("tr",null,r.a.createElement(Je,null,n.nas_dir),r.a.createElement(Je,null,r.a.createElement(lt.a,{color:1===n.status||2===n.status?"geekblue":"volcano"},1===n.status||2===n.status?"New":"Reject")),r.a.createElement(Je,null,n.note?r.a.createElement("div",{style:{whiteSpace:"pre-line"}},n.note.toString()):"None"),r.a.createElement(Je,null,r.a.createElement(dt.a,{title:"Are you sure to done this job?",onConfirm:function(){i(c.sendJobEditorRequest(n.id))},okText:"Yes",cancelText:"No"},r.a.createElement(Ue.a,{type:"primary",shape:"round",loading:t},"Done")))))):r.a.createElement(Ue.a,{type:"primary",size:"large",shape:"round",loading:t,onClick:function(){i(c.getJobEditorRequest())}},"Get Job"))},ut=n(643),pt=0,ft=4,mt=function(){var e=He.a.TextArea,t=Object(de.d)(ue),n=t.loadingQC,o=t.dataQC,l=t.errorQC,d=t.loadingConfirmJob,s=le().actions,u=Object(de.c)(),p=Object(a.useState)([]),f=Object(i.a)(p,2),m=f[0],g=f[1];Object(a.useEffect)((function(){u(s.getQCRequest())}),[s,u]),Object(a.useEffect)((function(){var e=[];o.map((function(t){e=[].concat(Object(c.a)(e),[{id:t.id,text:""}])})),g(e)}),[o]),Object(a.useEffect)((function(){l&&Object(Be.a)("Somthing went wrong! Please try again!")}),[l]),console.log(m);var b=function(e,t){m.map((function(n){n.id===t&&u(s.confirmJobQCRequest({id:t,status:e,note:n.text.toString()}))}))};return r.a.createElement(Pe,null,n?r.a.createElement(ut.ContentLoading,null):o.length?r.a.createElement("div",{style:{width:"98%"}},r.a.createElement(qe,{width:"100%"},r.a.createElement("tr",null,r.a.createElement(Qe,{style:{width:"20%"}},"Name Editor"),r.a.createElement(Qe,{style:{width:"20%"}},"Name Job"),r.a.createElement(Qe,null,"Note"),r.a.createElement(Qe,{style:{width:"13%"}},"Action")),o.map((function(t,n){return r.a.createElement("tr",{key:n},r.a.createElement(Je,null,t.editor_name),r.a.createElement(Je,null,t.nas_dir),r.a.createElement(Je,null,r.a.createElement(e,{placeholder:"Input notes for work",allowClear:!0,autoSize:{minRows:3,maxRows:3},value:m.length?m[n].text:"",onChange:function(e){return function(e,t){var n=m.map((function(n){return n.id===t&&(n.text=e),n}));g(n)}(e.target.value,t.id)}})),r.a.createElement(Je,null,r.a.createElement(Re,null,r.a.createElement(dt.a,{title:"Are you sure to reject this job?",onConfirm:function(){return b(pt,t.id)},okText:"Yes",cancelText:"No"},r.a.createElement(Ue.a,{type:"primary",danger:!0,shape:"round",loading:d,style:{marginTop:5,marginBottom:5}},"Reject")),r.a.createElement(dt.a,{title:"Are you sure to done this job?",onConfirm:function(){return b(ft,t.id)},okText:"Yes",cancelText:"No"},r.a.createElement(Ue.a,{type:"primary",shape:"round",loading:d,style:{marginTop:5,marginBottom:5}},"Done")))))})))):r.a.createElement(ke,null,r.a.createElement(Ne.a,null)))};function gt(){var e=Object(de.d)(it.a).userInfo,t=Object(a.useMemo)((function(){var t;switch(null===(t=e.profiles)||void 0===t?void 0:t.role){case 1:return r.a.createElement(ct,null);case 2:return r.a.createElement(st,null);case 3:return r.a.createElement(mt,null)}}),[e]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(o.a,null,r.a.createElement("title",null,"Home Page"),r.a.createElement("meta",{name:"description",content:"A Boilerplate application homepage"})),t)}}}]);